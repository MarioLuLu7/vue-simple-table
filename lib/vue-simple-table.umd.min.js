(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-simple-table"]=e():t["vue-simple-table"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function i(l){if(e[l])return e[l].exports;var s=e[l]={i:l,l:!1,exports:{}};return t[l].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,l){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(l,s,function(e){return t[e]}.bind(null,s));return l},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"1c2f":function(t,e,i){"use strict";var l=i("7f13"),s=i.n(l);s.a},"5f4b":function(t,e,i){},"7da8":function(t,e,i){},"7f13":function(t,e,i){},"8e6c":function(t,e,i){"use strict";var l=i("8e87"),s=i.n(l);s.a},"8e87":function(t,e,i){},b09d:function(t,e,i){"use strict";var l=i("5f4b"),s=i.n(l);s.a},fb15:function(t,e,i){"use strict";var l;(i.r(e),"undefined"!==typeof window)&&((l=window.document.currentScript)&&(l=l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=l[1]));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vs-table-box clearfix"},[i("div",{staticClass:"vs-table-left"},[i("table",{staticClass:"vs-head"},t._l(t.fixed_columns,(function(e,l){return i("tr",{key:"vh"+l},t._l(e,(function(e){return i("td",{key:e.title,style:{width:e.width+"px",height:t.headHeight+"px",textAlign:e.titleAlign}},[e.selection?i("vs-checkbox",{attrs:{state:t.getClass(t.getAllData())},on:{check:function(e){t.checkBtn(t.getAllData())}}}):t._e(),i("span",{staticClass:"vs-title vs-head-title",style:{lineHeight:t.headHeight+"px"},attrs:{title:e.showTitle}},[t._v(t._s(e.title))]),i("i",{staticClass:"vs-sort-icon",class:t.getSortClass(e.field),on:{click:function(i){return t.sortData(e)}}})],1)})),0)})),0),i("div",{staticClass:"vs-scroll-f",style:{height:"calc(100% - "+t.fixed_height+"px)",width:t.fixed_width+"px"}},[i("div",{ref:"leftScroll",staticClass:"vs-scroll-content",style:{width:t.fixed_width+17+"px"},on:{scroll:t.scrollEventLeft}},[i("table",{staticClass:"vs-content",style:{height:t.move_height+"px"}},t._l(t.fixed_data,(function(e,l){return i("tr",{key:"vc"+l},t._l(e,(function(e,l){return i("td",{key:"vcv"+l,style:{width:e.key.width+"px",height:t.rawHeight+"px"}},[i("vs-checkbox",{attrs:{state:t.getClass(t.getRawsData(e))},on:{check:function(i){t.checkBtn(t.getRawsData(e))}}}),i("span",{staticClass:"vs-title",style:{lineHeight:t.rawHeight+"px"}},[t._v(t._s(e.val))])],1)})),0)})),0)])])]),i("div",{ref:"rightVSbox",staticClass:"vs-table-right",style:{width:"calc(100% - "+t.fixed_width+"px)"},on:{scroll:t.onLeftBoxScroll}},[i("table",{staticClass:"vs-head",style:{width:t.move_width+"px"}},t._l(t.move_columns,(function(e,l){return i("tr",{key:"vh"+l},t._l(e,(function(e){return i("td",{key:e.title,style:{width:e.width+"px",height:t.headHeight+"px",textAlign:e.titleAlign}},[e.selection?i("vs-checkbox",{attrs:{state:t.getClass(t.getFieldData(e))},on:{check:function(i){t.checkBtn(t.getFieldData(e))}}}):t._e(),i("span",{staticClass:"vs-title vs-head-title",style:{lineHeight:t.headHeight+"px"},attrs:{title:e.showTitle}},[t._v(t._s(e.title))]),i("i",{staticClass:"vs-sort-icon",class:t.getSortClass(e.field),on:{click:function(i){return t.sortData(e)}}})],1)})),0)})),0),i("div",{staticClass:"vs-scroll-f",style:{width:t.move_width+"px",height:"calc(100% - "+t.fixed_height+"px)"}},[i("div",{ref:"rightScroll",staticClass:"vs-scroll-content",style:{width:t.move_width+17+"px"},on:{scroll:t.scrollEventRight}},[i("vs-dragbox",{on:{change:t.onDragChange,select:t.onSelectDown}},[i("table",{staticClass:"vs-content"},t._l(t.move_data,(function(e,l){return i("tr",{key:"vc"+l},t._l(e,(function(e,l){return i("td",{key:"vcv"+l,staticClass:"vs-select-td-box",class:{active:t.getActiveClass(e)},style:{width:e.key.width+"px",height:t.rawHeight+"px"},attrs:{id:JSON.stringify(e)},on:{click:function(i){return t.clickSingleRaw(e)}}},[t._t("default",null,{data:e})],2)})),0)})),0)])],1)])]),i("div",{ref:"barScroll",staticClass:"vs-scroll-control",style:{height:"calc(100% - "+t.fixed_height+"px)",marginTop:t.fixed_height+"px"},on:{scroll:t.scrollEventBar}},[i("div",{staticClass:"vs-scroll-control-inner",style:{height:t.move_height+"px"}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRange,expression:"showRange"}],staticClass:"vs-range-box"},[i("div",{staticClass:"vs-range-title",style:{width:t.fixed_width+"px"}},[t._v("数值范围")]),i("div",{ref:"rangebox",staticClass:"vs-range-box-s",style:{width:"calc(100% - "+t.fixed_width+"px)"}},[i("ul",{staticClass:"vs-range-ul",style:{width:t.move_width+"px"}},t._l(t.ranges,(function(e,l){return i("li",{key:"range"+l,staticClass:"vs-range-li",style:{width:e.width+"px"},attrs:{title:e.val}},[i("span",[t._v(t._s(e.val||"-"))])])})),0)])])])},r=[];
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function n(t){return getComputedStyle(t)}function o(t,e){for(var i in e){var l=e[i];"number"===typeof l&&(l+="px"),t.style[i]=l}return t}function a(t){var e=document.createElement("div");return e.className=t,e}var c="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function h(t,e){if(!c)throw new Error("No element matching method supported");return c.call(t,e)}function u(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){return Array.prototype.filter.call(t.children,(function(t){return h(t,e)}))}var f={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},p={x:null,y:null};function g(t,e){var i=t.element.classList,l=f.state.scrolling(e);i.contains(l)?clearTimeout(p[e]):i.add(l)}function v(t,e){p[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(f.state.scrolling(e))}),t.settings.scrollingThreshold)}function m(t,e){g(t,e),v(t,e)}var b=function(t){this.element=t,this.handlers={}},w={isEmpty:{configurable:!0}};b.prototype.bind=function(t,e){"undefined"===typeof this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},b.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter((function(l){return!(!e||l===e)||(i.element.removeEventListener(t,l,!1),!1)}))},b.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},w.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(b.prototype,w);var y=function(){this.eventElements=[]};function _(t){if("function"===typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function x(t,e,i,l,s){var r;if(void 0===l&&(l=!0),void 0===s&&(s=!1),"top"===e)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}k(t,i,r,l,s)}function k(t,e,i,l,s){var r=i[0],n=i[1],o=i[2],a=i[3],c=i[4],h=i[5];void 0===l&&(l=!0),void 0===s&&(s=!1);var u=t.element;t.reach[a]=null,u[o]<1&&(t.reach[a]="start"),u[o]>t[r]-t[n]-1&&(t.reach[a]="end"),e&&(u.dispatchEvent(_("ps-scroll-"+a)),e<0?u.dispatchEvent(_("ps-scroll-"+c)):e>0&&u.dispatchEvent(_("ps-scroll-"+h)),l&&m(t,a)),t.reach[a]&&(e||s)&&u.dispatchEvent(_("ps-"+a+"-reach-"+t.reach[a]))}function S(t){return parseInt(t,10)||0}function Y(t){return h(t,"input,[contenteditable]")||h(t,"select,[contenteditable]")||h(t,"textarea,[contenteditable]")||h(t,"button,[contenteditable]")}function T(t){var e=n(t);return S(e.width)+S(e.paddingLeft)+S(e.paddingRight)+S(e.borderLeftWidth)+S(e.borderRightWidth)}y.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new b(t),this.eventElements.push(e)),e},y.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},y.prototype.unbind=function(t,e,i){var l=this.eventElement(t);l.unbind(e,i),l.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(l),1)},y.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},y.prototype.once=function(t,e,i){var l=this.eventElement(t),s=function(t){l.unbind(e,s),i(t)};l.bind(e,s)};var X={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function E(t){var e=t.element,i=Math.floor(e.scrollTop),l=e.getBoundingClientRect();t.containerWidth=Math.ceil(l.width),t.containerHeight=Math.ceil(l.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(d(e,f.element.rail("x")).forEach((function(t){return u(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(d(e,f.element.rail("y")).forEach((function(t){return u(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=L(t,S(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=S((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=L(t,S(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=S(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),R(e,t),t.scrollbarXActive?e.classList.add(f.state.active("x")):(e.classList.remove(f.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(f.state.active("y")):(e.classList.remove(f.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function L(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function R(t,e){var i={width:e.railXWidth},l=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-l:i.top=e.scrollbarXTop+l,o(e.scrollbarXRail,i);var s={top:l,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?s.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:s.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?s.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:s.left=e.scrollbarYLeft+t.scrollLeft,o(e.scrollbarYRail,s),o(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function W(t){t.element;t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,l=i>t.scrollbarYTop?1:-1;t.element.scrollTop+=l*t.containerHeight,E(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,l=i>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=l*t.containerWidth,E(t),e.stopPropagation()}))}function C(t){H(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),H(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function H(t,e){var i=e[0],l=e[1],s=e[2],r=e[3],n=e[4],o=e[5],a=e[6],c=e[7],h=e[8],u=t.element,d=null,p=null,m=null;function b(e){e.touches&&e.touches[0]&&(e[s]=e.touches[0].pageY),u[a]=d+m*(e[s]-p),g(t,c),E(t),e.stopPropagation(),e.preventDefault()}function w(){v(t,c),t[h].classList.remove(f.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",b)}function y(e,n){d=u[a],n&&e.touches&&(e[s]=e.touches[0].pageY),p=e[s],m=(t[l]-t[i])/(t[r]-t[o]),n?t.event.bind(t.ownerDocument,"touchmove",b):(t.event.bind(t.ownerDocument,"mousemove",b),t.event.once(t.ownerDocument,"mouseup",w),e.preventDefault()),t[h].classList.add(f.state.clicking),e.stopPropagation()}t.event.bind(t[n],"mousedown",(function(t){y(t)})),t.event.bind(t[n],"touchstart",(function(t){y(t,!0)}))}function A(t){var e=t.element,i=function(){return h(e,":hover")},l=function(){return h(t.scrollbarX,":focus")||h(t.scrollbarY,":focus")};function s(i,l){var s=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===s&&l>0||s>=t.contentHeight-t.containerHeight&&l<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===l){if(!t.scrollbarXActive)return!1;if(0===r&&i<0||r>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(i()||l())){var n=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else while(n.shadowRoot)n=n.shadowRoot.activeElement;if(Y(n))return}var o=0,a=0;switch(r.which){case 37:o=r.metaKey?-t.contentWidth:r.altKey?-t.containerWidth:-30;break;case 38:a=r.metaKey?t.contentHeight:r.altKey?t.containerHeight:30;break;case 39:o=r.metaKey?t.contentWidth:r.altKey?t.containerWidth:30;break;case 40:a=r.metaKey?-t.contentHeight:r.altKey?-t.containerHeight:-30;break;case 32:a=r.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=o,E(t),s(o,a)&&r.preventDefault())}}))}function N(t){var e=t.element;function i(i,l){var s,r=Math.floor(e.scrollTop),n=0===e.scrollTop,o=r+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return s=Math.abs(l)>Math.abs(i)?n||o:a||c,!s||!t.settings.wheelPropagation}function l(t){var e=t.deltaX,i=-1*t.deltaY;return"undefined"!==typeof e&&"undefined"!==typeof i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!==e&&i!==i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}function s(t,i,l){if(!X.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;var s=t;while(s&&s!==e){if(s.classList.contains(f.element.consuming))return!0;var r=n(s);if(l&&r.overflowY.match(/(scroll|auto)/)){var o=s.scrollHeight-s.clientHeight;if(o>0&&(s.scrollTop>0&&l<0||s.scrollTop<o&&l>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var a=s.scrollWidth-s.clientWidth;if(a>0&&(s.scrollLeft>0&&i<0||s.scrollLeft<a&&i>0))return!0}s=s.parentNode}return!1}function r(r){var n=l(r),o=n[0],a=n[1];if(!s(r.target,o,a)){var c=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(a?e.scrollTop-=a*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=a*t.settings.wheelSpeed,c=!0):(e.scrollTop-=a*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),E(t),c=c||i(o,a),c&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?t.event.bind(e,"wheel",r):"undefined"!==typeof window.onmousewheel&&t.event.bind(e,"mousewheel",r)}function D(t){if(X.supportsTouch||X.supportsIePointer){var e=t.element,i={},l=0,s={},r=null;X.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",p),t.event.bind(e,"touchend",g)):X.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",p),t.event.bind(e,"pointerup",g)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",p),t.event.bind(e,"MSPointerUp",g)))}function o(i,l){var s=Math.floor(e.scrollTop),r=e.scrollLeft,n=Math.abs(i),o=Math.abs(l);if(o>n){if(l<0&&s===t.contentHeight-t.containerHeight||l>0&&0===s)return 0===window.scrollY&&l>0&&X.isChrome}else if(n>o&&(i<0&&r===t.contentWidth-t.containerWidth||i>0&&0===r))return!0;return!0}function a(i,l){e.scrollTop-=l,e.scrollLeft-=i,E(t)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(h(t)){var e=c(t);i.pageX=e.pageX,i.pageY=e.pageY,l=(new Date).getTime(),null!==r&&clearInterval(r)}}function d(t,i,l){if(!e.contains(t))return!1;var s=t;while(s&&s!==e){if(s.classList.contains(f.element.consuming))return!0;var r=n(s);if(l&&r.overflowY.match(/(scroll|auto)/)){var o=s.scrollHeight-s.clientHeight;if(o>0&&(s.scrollTop>0&&l<0||s.scrollTop<o&&l>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var a=s.scrollWidth-s.clientWidth;if(a>0&&(s.scrollLeft>0&&i<0||s.scrollLeft<a&&i>0))return!0}s=s.parentNode}return!1}function p(t){if(h(t)){var e=c(t),r={pageX:e.pageX,pageY:e.pageY},n=r.pageX-i.pageX,u=r.pageY-i.pageY;if(d(t.target,n,u))return;a(n,u),i=r;var f=(new Date).getTime(),p=f-l;p>0&&(s.x=n/p,s.y=u/p,l=f),o(n,u)&&t.preventDefault()}}function g(){t.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){t.isInitialized?clearInterval(r):s.x||s.y?Math.abs(s.x)<.01&&Math.abs(s.y)<.01?clearInterval(r):(a(30*s.x,30*s.y),s.x*=.8,s.y*=.8):clearInterval(r)}),10))}}var M=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},O={"click-rail":W,"drag-thumb":C,keyboard:A,wheel:N,touch:D},P=function(t,e){var i=this;if(void 0===e&&(e={}),"string"===typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var l in this.element=t,t.classList.add(f.main),this.settings=M(),e)this.settings[l]=e[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return t.classList.add(f.state.focus)},r=function(){return t.classList.remove(f.state.focus)};this.isRtl="rtl"===n(t).direction,!0===this.isRtl&&t.classList.add(f.rtl),this.isNegativeScroll=function(){var e=t.scrollLeft,i=null;return t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=e,i}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new y,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=a(f.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=a(f.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=S(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=S(c.borderLeftWidth)+S(c.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=S(c.marginLeft)+S(c.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=a(f.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=a(f.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=S(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?T(this.scrollbarY):null,this.railBorderYWidth=S(h.borderTopWidth)+S(h.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=S(h.marginTop)+S(h.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return O[t](i)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return i.onScroll(t)})),E(this)};P.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=S(n(this.scrollbarXRail).marginLeft)+S(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=S(n(this.scrollbarYRail).marginTop)+S(n(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),E(this),x(this,"top",0,!1,!0),x(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},P.prototype.onScroll=function(t){this.isAlive&&(E(this),x(this,"top",this.element.scrollTop-this.lastScrollTop),x(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},P.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),u(this.scrollbarX),u(this.scrollbarY),u(this.scrollbarXRail),u(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},P.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var $=P,B=(i("7da8"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i",{staticClass:"vs-check-box",class:t.state_map[t.state],on:{click:function(e){return t.$emit("check")}}})}),j=[],J={name:"check-box",props:{state:{type:String,default:"no"}},data(){return{state_map:{no:"vs-no-check",check:"vs-check",harf:"vs-harf-check"}}}},I=J;i("8e6c");function K(t,e,i,l,s,r,n,o){var a,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),l&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=a):s&&(a=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),a)if(c.functional){c._injectStyles=a;var h=c.render;c.render=function(t,e){return a.call(e),h(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,a):[a]}return{exports:t,options:c}}var U=K(I,B,j,!1,null,null,null),V=U.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"indrag",rawName:"v-indrag"}],staticClass:"vs-drag-box"},[t._t("default"),t.fack_show?i("div",{staticClass:"fack-drag"}):t._e(),t.drag_show?i("div",{ref:"inner",staticClass:"vs-drag-inner-box",style:t.drag_css}):t._e()],2)},z=[],q={name:"drag-box",data(){return{sw:0,sh:0,ew:0,eh:0,drag_show:!1,fack_show:!1}},computed:{drag_css(){const t={left:(this.sw<this.ew?this.sw:this.ew)+"px",top:(this.sh<this.eh?this.sh:this.eh)+"px",width:Math.abs(this.sw-this.ew)+"px",height:Math.abs(this.sh-this.eh)+"px"};return t},fd(){return{sw:this.sw,sh:this.sh,ew:this.ew,eh:this.eh}}},watch:{ew(){this.$emit("change",this.fd)},eh(){this.$emit("change",this.fd)}},directives:{indrag:{bind:function(t,e,i){const l=i.context;t.onmousedown=e=>{let i=e.layerX,s=e.layerY;document.onmousemove=e=>{l.fack_show=!0;let r=l.getElementPos(t);l.sw=i,l.sh=s,l.ew=e.pageX-r.x,l.eh=e.pageY-r.y,l.drag_show=!0},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,l.drag_show=!1,l.fack_show=!1,l.$emit("select",l.fd);let i=l.getElementPos(t);l.sw=e.pageX-i.x,l.sh=e.pageY-i.y,l.ew=e.pageX-i.x,l.eh=e.pageY-i.y}}}}},methods:{isFElement(t,e){return t.className.indexOf(e)>-1||"BODY"!==t.nodeName&&this.isFElement(t.parentElement,e)},getElementPos(t){if(null===t.parentNode||"none"==t.style.display)return!1;var e,i=null,l=[];if(t.getBoundingClientRect){e=t.getBoundingClientRect();var s=Math.max(document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return{x:e.left+r,y:e.top+s}}if(l=[t.offsetLeft,t.offsetTop],i=t.offsetParent,i!=t)while(i)l[0]+=i.offsetLeft,l[1]+=i.offsetTop,i=i.offsetParent;return{x:l[0],y:l[1]}}}},G=q,Q=(i("b09d"),K(G,F,z,!1,null,"256e6131",null)),Z=Q.exports,tt={name:"vueSimpleTable",components:{"vs-checkbox":V,"vs-dragbox":Z},props:{tableData:{type:Array,default:()=>[]},checksData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},rawHeight:{type:Number,default:36},headHeight:{type:Number,default:36},checkType:{type:String,default:"single"},showRange:{type:Boolean,default:!1}},data(){return{now_scroll:null,timer:null,checks:[],sort_key:null,reload_table:!0,isactive_map:{},timerout_timer:null}},watch:{checks(){this.$emit("change",this.checks);let t={};this.checks.forEach(e=>{t[JSON.stringify(e)]=!0}),this.isactive_map=t},checksData(){this.checks=this.checksData}},computed:{fixed_columns(){var t=[];return this.columns.forEach(e=>{t.push(e.filter(t=>t.isFrozen))}),t},fixed_keys(){return this.fixed_columns[this.fixed_columns.length-1]},fixed_data(){var t=[];return this.data.forEach(e=>{const i=[];this.fixed_keys.forEach(t=>{i.push({data:e,key:t,val:e[t.field]})}),t.push(i)}),t},move_columns(){var t=[];return this.columns.forEach(e=>{t.push(e.filter(t=>!t.isFrozen))}),t},move_keys(){return this.move_columns[this.move_columns.length-1]},move_data(){var t=[];return this.data.forEach(e=>{const i=[];this.move_keys.forEach(t=>{i.push({data:e,key:t,val:e[t.field]})}),t.push(i)}),t},fixed_width(){let t=0;return this.fixed_keys.forEach(e=>{t+=e.width}),t},fixed_height(){return this.fixed_columns.length*this.headHeight},move_width(){let t=0;return this.move_keys.forEach(e=>{t+=e.width}),t},move_height(){return this.data.length*this.rawHeight},data(){let t=JSON.parse(JSON.stringify(this.tableData));if(this.sort_key){const e=this.sort_key.split("&");let i=e[0],l=Number(e[1]),s=e[2];t=t.sort((t,e)=>{let r,n;return"num"===s?(r=isNaN(t[i])?-1/0:t[i],n=isNaN(e[i])?-1/0:e[i]):"date"===s&&(r=new Date(t[i]).valueOf(),n=new Date(e[i]).valueOf()),(r-n)*l})}return t},check_map(){const t={};return this.checks.forEach(e=>{t[JSON.stringify(e)]=!0}),t},all_data(){const t=[];return this.data.forEach(e=>{for(let i in e)t.push({data:e,key:i,val:e[i]})}),t},ranges(){let t={};this.checks.forEach(e=>{let i=isNaN(e.val)?null:e.val;if(i)if(t[e.key]){let l=t[e.key];l.min=l.min<i?l.min:i,l.max=l.max>i?l.max:i}else t[e.key]={max:i,min:i}});var e=[];return this.move_columns[this.move_columns.length-1].forEach(i=>{let l;if(t[i.field]){let e=t[i.field];l=`${e.min}~${e.max}`}e.push({width:i.width,val:l})}),e}},mounted(){this.setScrollbar()},methods:{scrollEventLeft(t){this.now_scroll&&"l"!==this.now_scroll||this.setAllScrollTop(t.target.scrollTop,"l")},scrollEventRight(t){this.now_scroll&&"r"!==this.now_scroll||this.setAllScrollTop(t.target.scrollTop,"r")},scrollEventBar(t){this.now_scroll&&"b"!==this.now_scroll||this.setAllScrollTop(t.target.scrollTop,"b")},setAllScrollTop(t,e){this.now_scroll=e,clearTimeout(this.timer),"l"!==e&&(this.$refs.leftScroll.scrollTop=t),"r"!==e&&(this.$refs.rightScroll.scrollTop=t),"b"!==e&&(clearTimeout(this.timerout_timer),this.timerout_timer=setTimeout(()=>{this.$refs.barScroll.scrollTop=t},100)),this.timer=setTimeout(()=>{this.now_scroll=null},500)},onLeftBoxScroll(t){this.$refs.rangebox.scrollLeft=t.target.scrollLeft},setScrollbar(){new $(this.$refs.barScroll),new $(this.$refs.rightVSbox)},getRawsData(t){const e=[],i=t.key.field,l=t.data;for(let s in l)i!==s&&e.push({data:l,key:s,val:l[s]});return e},getFieldData(t){const e=[];return this.data.forEach(i=>{e.push({data:i,key:t.field,val:i[t.field]})}),e},getAllData(){return this.all_data},getClass(t){let e=[];return t.forEach(t=>{this.check_map[JSON.stringify(t)]&&e.push(t)}),e.length?e.length===t.length?"check":"harf":"no"},dedupe(t){return Array.from(new Set(t))},checkBtn(t){const e=this.getClass(t);"no"===e||"harf"===e?this.setChecksAdd(t):this.setChecksDel(t)},sortData(t){let e=t.field,i=[];this.sort_key&&(i=this.sort_key.split("&"));let l=i.length?i[0]:"",s=i.length?i[1]:"";if(e===l){if("-1"===s)s="1";else if("1"===s)return void(this.sort_key=null)}else l=e,s="-1";this.sort_key=`${l}&${s}&${t.valType||"num"}`},getSortClass(t){let e="vs-default";if(this.sort_key){const i=this.sort_key.split("&");let l=i.length?i[0]:"",s=i.length?i[1]:"";t===l&&("-1"===s?e="vs-down":"1"===s&&(e="vs-up"))}return e},onDragChange(t){const e=this.$refs.rightVSbox.clientWidth,i=this.$refs.rightScroll.clientHeight,l=this.$refs.rightVSbox.scrollLeft,s=this.$refs.rightScroll.scrollTop,r=this.move_width-e,n=this.move_height-i;t.ew>e+l&&(this.$refs.rightVSbox.scrollLeft=t.ew-e<r?t.ew-e:r),t.eh>i+s&&(this.$refs.rightScroll.scrollTop=t.eh-i<n?t.eh-i:n),t.ew<l&&(this.$refs.rightVSbox.scrollLeft=t.ew>0?t.ew:0),t.eh<s&&(this.$refs.rightScroll.scrollTop=t.eh>0?t.eh:0)},onSelectDown(t){if(t.sw===t.ew&&t.sh===t.eh)return;const e=document.getElementsByClassName("vs-select-td-box"),i=[];for(let l=0;l<e.length;l++){const s=e[l].offsetLeft,r=e[l].offsetTop,n=e[l].clientWidth,o=e[l].clientHeight;let a=t.sw,c=t.ew,h=t.sh,u=t.eh;if(t.sw>t.ew&&(a=t.ew,c=t.sw),t.sh>t.eh&&(h=t.eh,u=t.sh),a<s+n&&c>s&&h<r+o&&u>r){const t=JSON.parse(e[l].id);t.key=t.key.field,i.push(t)}}this.setChecksAdd(i)},setChecksAdd(t){"single"===this.checkType&&(this.checks=[]);let e=JSON.parse(JSON.stringify(this.checks));t.forEach(t=>{this.isactive_map[JSON.stringify(t)]||e.push(t)}),this.checks=e},setChecksDel(t){let e={};t.forEach(t=>{e[JSON.stringify(t)]=!0}),this.checks=this.checks.filter(t=>!e[JSON.stringify(t)])},clickSingleRaw(t){let e=JSON.parse(JSON.stringify(t));e.key=e.key.field;let i=[e],l=!1;"many"===this.checkType&&this.checks.filter(t=>{JSON.stringify(t)===JSON.stringify(e)&&(l=!0)}),l?this.setChecksDel(i):this.setChecksAdd(i)},getActiveClass(t){let e=JSON.parse(JSON.stringify(t));e.key=e.key.field;let i=JSON.stringify(e);return this.isactive_map[i]}}},et=tt,it=(i("1c2f"),K(et,s,r,!1,null,null,null)),lt=it.exports;lt.install=function(t){t.component(lt.name,lt)};var st=lt;const rt=[st],nt=function(t){nt.installed||rt.forEach(e=>{t.component(e.name,e)})};"undefined"!==typeof window&&window.Vue&&nt(window.Vue);var ot={install:nt,vueSimpleTable:st};e["default"]=ot}})}));
//# sourceMappingURL=vue-simple-table.umd.min.js.map